{% extends "accounts/base.html" %}
{% load static %}

{% block title %}Login - AuthSys{% endblock %}

{% block content %}
  <div class="auth-container">
    <div class="auth-header">
      <h2>Login</h2>
      <p>Welcome back! Please enter your details</p>
    </div>

    <div class="auth-content">
      {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      <form method="post" class="auth-form">
        {% csrf_token %}

        <div class="form-group">
          <label for="id_email">Email</label>
          <input type="email" name="email" id="id_email" value="{{ form.email.value|default_if_none:'' }}">
          {% for error in form.email.errors %}
            <p class="error">{{ error }}</p>
          {% endfor %}
        </div>

        <div class="form-group">
          <label for="id_password">Password</label>
          <input type="password" name="password" id="id_password">
          {% for error in form.password.errors %}
            <p class="error">{{ error }}</p>
          {% endfor %}
        </div>

        <button type="submit" class="btn btn-primary">Login</button>
      </form>

      {% if jwt_access_token %}
        <div class="token-info">
          <p><strong>JWT Access Token:</strong> {{ jwt_access_token }}</p>
          <p><strong>JWT Refresh Token:</strong> {{ jwt_refresh_token }}</p>
        </div>
      {% endif %}

      <div class="auth-footer">
        <p>Don't have an account? <a href="{% url 'accounts_html:register' %}">Sign up</a> â€¢ <a href="#">Forgot
          password?</a>
        </p>
      </div>
    </div>
  </div>
{% endblock %}
